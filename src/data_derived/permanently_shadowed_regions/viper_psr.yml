lid: "urn:nasa:pds:viper_geospatial:data_derived:viper_psr"
title: VIPER Permanently Shadowed Region Map
description: >-
  This grayscale GeoTIFF contains values of 255 where there is a persistently
  shadowed region, and values of zero (also specified as nodata values)
  where it is not.

  The PSR Map was generated using illumination modeling based on the
  VIPER SfS terrain model.  The SPICE toolkit calculated the Sun's
  position across four full lunar nodal cycles (from 1970-01-01 to
  2044-01-01) with a 6~hour time step.  SPICE had the de440s solar
  system ephemeris and the moon_pa_de440_200625.bpc orientation kernel
  loaded, which covers this period.
  
  Using those positions, the average illumination at each pixel was
  calculated.  This was done by first pre-calculating horizons for
  each DEM pixel and then using those horizons to mask the Sun as it
  moved around the horizon and across the time interval.  Once the
  average illumination map was generated, a permanent shadow map was
  generated by thresholding this image at 0 counts.
  
  The resulting image is encoded as a GeoTIFF file with single band
  of datatype Byte.  A pixel value of 255 indicates permanent shadow
  and 0 indicates that it received some sunlight at some time during
  the interval.

modification_details: 
- version: 999.1
  date: "2025-04-21"
  description: >-
    Dumb information model forces this to be a 'valid' version
    instead of 0.1 for testing, which should be allowed.  This is
    the first draft.  All version 999 modifications will be removed
    before PDS release 1.0.

obs_system_desc: >-
     This data product was derived from a shape-from-shading terrain
     model which in turn is derived from LROC images and based on
     LOLA data.
obs_system_components:
 - name: Lunar Reconnaissance Orbiter Camera
   type: Instrument
   lid_ref: urn:nasa:pds:context:instrument:lro.lroc
   lid_ref_type: is_instrument
 - name: Lunar Orbiter Laser Altimeter
   type: Instrument
   lid_ref: urn:nasa:pds:context:instrument:lro.lola
   lid_ref_type: is_instrument

proc_name: Create PSR Map
proc_desc: >-
  This is the processing step that takes as input the SfS terrain model, SPICE data,
  and produces the PSR map.
proc_owner: Mark Shirley
proc_inst: NASA Ames Research Center

external_reference:
- doi: 10.3847/PSJ/submitted
  ref_text: Beyer et al. (submitted), VIPER Site Analysis, PSJ
  desc: This paper provides a description of the methods and process used to produce this map.

source_product_internal:
  - lidvid: "urn:nasa:pds:viper_geospatial:data_derived:viper_sfs_dem::1.0"
    type: data_to_derived_source_product
    comment: The SfS terrain model was used to perform the modeling to derive the maximum temperature.
